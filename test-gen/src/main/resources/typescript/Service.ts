/**
* GENERATED BY BTYX RPC GEN - LESS MODIFY BY HAND
* ${serviceFile}  ${.now?iso_local}
*/

import {RpcResult,RpcService,Headers} from ${(lang == 'Typescript')?then("'@btyx/rpc'","'../utils/rpc'")};

<#if service.customerDtos?has_content>
import {<#list service.customerDtos as f>${f}${f?has_next?then(',','')}</#list>} from './${dtoFile?replace(".ts","")}';
</#if>

<#if service.description?has_content>
///  ${service.description}
</#if>
export class ${service.name}Service{

	readonly pre = "${service.name}/";

	constructor(readonly rpcService: RpcService) {}
<#list service.methods?filter(f->! f.hidden)  as m>
	${m.doc}
	${m.name}(<#if m.arg??>req:${m.arg}, </#if>header?: Headers): Promise<RpcResult<${m.res}>>{
		return this.rpcService.async(this.pre+"${m.name}",${m.arg?has_content?then('req','null')},header);
	}
</#list>

}
